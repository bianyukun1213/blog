<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom"><title>His 2nd Life</title><icon>https://his2nd.life/en/images/blog-logo.png</icon><subtitle>his2nd.life</subtitle><link href="https://his2nd.life/en/atom.xml" rel="self"/><link href="https://his2nd.life/en"/><updated>2024-04-06T14:13:56.000Z</updated><id>https://his2nd.life/en</id><author><name>Hollis</name></author><generator>h2l-rss</generator><entry><title>IndieWeb Implementation Test</title><link href="https://his2nd.life/en/posts/127efb3.html"/><id>https://his2nd.life/en/posts/127efb3.html</id><published>2024-03-16T04:43:21.000Z</published><updated>2024-04-06T14:13:56.000Z</updated><content type="html"><![CDATA[<p><b>You can visit <a href=https://his2nd.life/en/posts/127efb3.html target=_blank>https://his2nd.life/en/posts/127efb3.html</a> for better layout.</b></p><hr><p>Life is about fiddling around with things, I guess…</p><div class=ai-generated-excerpt><div class=title><p>AI-generated excerpt</p></div><div class=content><p>The author describes their journey of modifying their blog to engage with the IndieWeb community. They implemented technologies like IndieAuth, RelMeAuth, microformats, and Webmention, despite facing challenges with their theme's CSS. They successfully integrated these features and plan to parse and display Webmentions using webmention.js. They acknowledge the need to balance this work with their graduation project.</p></div></div><span id=more></span><hr><p>After <a href=/en/posts/7a6a6b5a.html>making a multilingual modification to my blog</a>, I started a new journey fiddling around with it.</p><p>This website uses <a class=link href=https://hexo.io/api/tag>tags <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> forked from <a class=link href=https://kiko.io/>Kristof Zerbe <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>’s <a class=link href=https://github.com/kristofzerbe/hexo-tag-plugins>hexo-tag-plugins <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> repository. Through Kristof’s articles, I learned about the <a class=link href=https://indieweb.org/>IndieWeb <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> community, which led me to other technologies that associated with it, like <a class=link href=https://microformats.org/>microformats <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>, <a class=link href=https://indieauth.net/>IndieAuth <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>, <a class=link href=https://microformats.org/wiki/RelMeAuth>RelMeAuth <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>, <a class=link href=https://www.w3.org/TR/webmention/>Webmention <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>, etc. It turns out that there is a bunch of people in the world who use their indie websites as primary online identities, and also use a set of open technologies and standards to communicate and interact with each other on their websites.</p><blockquote><p>不觉得这很酷吗？作为一名理工男我觉得这太酷了，很符合我对未来生活的想象，科技并带着趣味。 <sup class=footnote-ref><a href=#fn1 id=fnref1>[1]</a></sup></p></blockquote><p>I’d like to try to be part of that community. I have already got an indie website and my personal domain. The implementation of IndieAuth and RelMeAuth support is also easy. The next thing is to implement microformats and Webmention. So I referred to Kristof’s three tutorials: <a class=link href=https://kiko.io/post/Hexo-and-the-IndieWeb/>“Hexo and the IndieWeb” <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>, <a class=link href=https://kiko.io/post/Hexo-and-the-IndieWeb-Sending-Webmentions/>“Hexo and the IndieWeb (Sending Webmentions)” <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>, and <a class=link href=https://kiko.io/post/Hexo-and-the-IndieWeb-Receiving-Webmentions/>“Hexo and the IndieWeb (Receiving Webmentions)” <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>, along with other resources such as <a class=link href=https://blog.xiang578.com/note/641ea60f-a31e-4979-9327-c50509c146e3.html>“webmention 实现参考” <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> by <a class=link href=https://twitter.com/xiang578>Runye <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>, <a class=link href=https://jason-memo.dev/posts/webmention/>“透過 webmention 來搜集 blog 的社群迴響” <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> by <a class=link href=https://jason-memo.dev/>Jason Chen <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>, to make some modifications to my blog.</p><p>There were some hiccups during the modification. <a class=link href=https://github.com/EvanNotFound/hexo-theme-redefine>Redefine <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>, the Hexo theme I use, uses <a class=link href=https://tailwindcss.com/>Tailwind CSS <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> to write some of its styles, which leaves many class names that start with <code>h-</code> in the HTML structure, causing some microformats parsers to generate incorrect results. So I had to use a <a class=link href=https://hexo.io/api/renderer>renderer <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> and a <a class=link href=https://hexo.io/api/filter>filter <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> to make some changes to the theme by replacing class names that start with <code>h-</code>, with other class names. After the replacement, the <code>h-entry</code> I made seems to be parsed correctly. For interactive links that require special class names like <code>u-in-reply-to</code>, <code>u-like-of</code>, I would write them in the front-matter, insert them into the page with a filter and hide them. The interactive links corresponding to the three articles by Kristof Zerbe mentioned above were generated using this approach. If it goes well — Yes, I tested it, and it went well for the <a href=/zh-CN/posts/127efb3.html>Chinese version</a> — after I send out a Webmention, my “likes” will show in these three articles. I said “if it goes well”, because I am not sure I can provide the <code>h-entry</code> and the links it contains in a correct format. <a class=link href=https://webmention.rocks/test/1>Webmentioin Rocks! <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> told me that I had not provide <code>u-in-reply-to</code> links appropriately during previous tests, though this seems like a <a class=link href=https://github.com/aaronpk/webmention.rocks/issues/38>bug <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>. Having just talked about Webmentions, on my end of this website, the work that needs to be done is to parse the Webmentions and display them on the page. I chose <a class=link href=https://github.com/PlaidWeb/webmention.js>webmention.js <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> by <a class=link href=https://github.com/PlaidWeb>PlaidWeb <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> to get the work done, and made some adaptations to let the script use my own simple i18n system. In addition, I have also added the ability to switch between Comments and Webmentions, and added a manual send feature to the Webmentions interaction system.</p><p>After all these operations, my website has obtained a lot of terrible codes, again…It’s time for me to keep doing my graduation project.</p><hr><p>The End</p><hr class=footnotes-sep><section class=footnotes><ol class=footnotes-list><li class=footnote-item id=fn1><p>“Not think this is cool? As a STEM guy, I find it extremely cool. It aligns perfectly with my vision of future life, where technology comes with a touch of amusement.” — The “STEM guy” meme of vlogger “老师好我叫何同学” <a class=footnote-backref href=#fnref1>↩︎</a></p></li></ol></section>]]></content><summary type="html"><![CDATA[<p>Life is about fiddling around with things, I guess…</p>]]></summary><category term="Technologies &amp; Techniques" scheme="https://his2nd.life/en/categories/technologies-and-techniques/"/><category term="Network" scheme="https://his2nd.life/en/tags/network/"/><category term="Front-end" scheme="https://his2nd.life/en/tags/front-end/"/><category term="JavaScript" scheme="https://his2nd.life/en/tags/javascript/"/><category term="HTML" scheme="https://his2nd.life/en/tags/html/"/><category term="CSS" scheme="https://his2nd.life/en/tags/css/"/></entry><entry><title>Site Bilingual Modification</title><link href="https://his2nd.life/en/posts/7a6a6b5a.html"/><id>https://his2nd.life/en/posts/7a6a6b5a.html</id><published>2024-01-08T07:06:34.000Z</published><updated>2024-03-22T11:31:32.000Z</updated><content type="html"><![CDATA[<p><b>You can visit <a href=https://his2nd.life/en/posts/7a6a6b5a.html target=_blank>https://his2nd.life/en/posts/7a6a6b5a.html</a> for better layout.</b></p><hr><p>This site is now available both in Chinese and in English.</p><div class=ai-generated-excerpt><div class=title><p>AI-generated excerpt</p></div><div class=content><p>The author discusses their decision to add an English version to their blog despite feeling uncertain about their fluency in both Chinese and English. They explain their approach to implementing bilingualism using Hexo, utilizing separate configurations and directories for each language's site. They detail the creation of language-switching functionality and address the challenge of directing visitors to the correct language version. The author concludes by expressing uncertainty about blogging in English but remains intrigued by the possibility.</p></div></div><span id=more></span><hr><p>Honestly, I don’t know why I have decided to add an English version of my blog — I cannot write fluently in Chinese, let alone in English; I guess it’s only because it’s interesting and also, I want to see if adding another language is feasible.</p><p>Hexo has a limited i18n system which can display a post in multiple languages, yet pages generated by themes are only available in single language. So I took a treacky approach, which is to generate both Chinese site and English site within the same repository, with each site using its own configuration, theme configuration, the <code>source</code> directory, and the <code>public</code> directory; and the rest of the contents required to generate sites such as the <code>scaffolds</code> directory and the <code>scripts</code> directory are shared between these sites. Thus, even though the Chinese site and the English site together is coherent, these are two indivisual sites with each static resources placed in its own <code>public</code> directory. To facilitate site generation, I wrote several scripts which are capable of cleaning up intermediates, including some of the same resources in the two <code>source</code> directories of both sites, switching the language used to generate the site based on parameters. You may have noticed that there is an “info icon” (It has moved to the lower right corner as a “language button” for now.) in the upper right corner of some posts (for example, this one) and pages. It indicates that the page you are reading is available in multiple languages, and you can switch to other versions just by clicking that icon. This feature is supported by a metadata generator and filter, an injector, and a broswer-end runtime script that I wrote. When I intend to write two language versions of a post, I provide an array of paths (each path represents the post in a specific language) in the front-matter, embed the metadata in the page via the metadata generator and filter, read it in the browser via the broswer-end script injected by the injector, and then display the “info icon”. The broswer-end script I mentioned is a script that I use to implement specific features and perform modifications dynamically. This script itself contains some prompt strings, so I also wrote simple i18n functions to provide these strings both in Chinese and in English. Now the website has two language versions, each has a root of <code>/zh-CN/</code> or <code>/en/</code>. However, the previous links that search engines had indexed does not inlude the “language mark”, so I also wrote the <code>index</code> and <code>404</code> page for the entire site to direct visitors to the correct page.</p><p>Basically, this is how I implemented a bilingual Hexo site. Maybe I’ll try to blog in English. Maybe.</p><hr><p>The End</p>]]></content><summary type="html"><![CDATA[<p>This site is now available both in Chinese and in English.</p>]]></summary><category term="Technologies &amp; Techniques" scheme="https://his2nd.life/en/categories/technologies-and-techniques/"/><category term="Front-end" scheme="https://his2nd.life/en/tags/front-end/"/><category term="JavaScript" scheme="https://his2nd.life/en/tags/javascript/"/></entry></feed>